/* ============================================================
   水墨交互效果系统 - Ink Effects System
   按设计文档实现：点击钤印、悬停墨晕、滚动展卷
   ============================================================ */

/* ===== 点击钤印效果 ===== */
.ink-stamp-click {
  position: relative;
  overflow: visible;
}

.ink-stamp-click::after {
  content: '';
  position: absolute;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(192, 57, 43, 0.4) 0%, rgba(192, 57, 43, 0) 70%);
  pointer-events: none;
  opacity: 0;
  transform: scale(0);
  transition: none;
}

.ink-stamp-click:active::after {
  opacity: 1;
  transform: scale(1.5);
  animation: stampFade 0.4s ease-out forwards;
}

@keyframes stampFade {
  0% { opacity: 0.6; transform: scale(0.5); }
  50% { opacity: 0.4; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(1.8); }
}

/* ===== 悬停墨晕效果 ===== */
.ink-hover-spread {
  position: relative;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.ink-hover-spread::before {
  content: '';
  position: absolute;
  inset: -8px;
  border-radius: inherit;
  background: radial-gradient(ellipse at center, rgba(26, 26, 46, 0.06) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s ease, transform 0.5s ease;
  transform: scale(0.9);
  pointer-events: none;
  z-index: -1;
}

.ink-hover-spread:hover::before {
  opacity: 1;
  transform: scale(1.05);
}

/* 墨晕边框效果 */
.ink-border-spread {
  position: relative;
  transition: box-shadow 0.5s ease;
}

.ink-border-spread:hover {
  box-shadow: 
    0 0 0 1px rgba(26, 26, 46, 0.08),
    0 4px 20px rgba(26, 26, 46, 0.08),
    0 8px 40px rgba(26, 26, 46, 0.04);
}

/* ===== 墨入清水加载动画 ===== */
.ink-loading {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.ink-loading::after {
  content: '';
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: radial-gradient(circle, var(--ink-dark) 0%, transparent 60%);
  animation: inkDissolve 2s ease-in-out infinite;
}

@keyframes inkDissolve {
  0% { 
    transform: scale(0.3); 
    opacity: 0.8;
    filter: blur(0px);
  }
  50% { 
    transform: scale(1.2) rotate(180deg); 
    opacity: 0.4;
    filter: blur(2px);
  }
  100% { 
    transform: scale(2) rotate(360deg); 
    opacity: 0;
    filter: blur(8px);
  }
}

/* ===== 印章按钮效果 ===== */
.ink-seal-button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 28px;
  background: transparent;
  border: 2px solid var(--cinnabar);
  color: var(--cinnabar);
  font-family: var(--font-serif);
  font-weight: 600;
  font-size: 15px;
  letter-spacing: 0.15em;
  cursor: pointer;
  transition: all 0.3s ease;
  overflow: hidden;
}

.ink-seal-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--cinnabar);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.ink-seal-button:hover {
  color: var(--paper-white);
  box-shadow: 
    0 0 20px rgba(192, 57, 43, 0.3),
    inset 0 0 20px rgba(192, 57, 43, 0.1);
}

.ink-seal-button:hover::before {
  opacity: 1;
}

.ink-seal-button span {
  position: relative;
  z-index: 1;
}

.ink-seal-button:active {
  transform: scale(0.98);
}

/* ===== 宣纸质感表单 ===== */
.ink-form-field {
  position: relative;
  background: linear-gradient(180deg, var(--paper-white) 0%, var(--paper-warm) 100%);
  border: none;
  border-bottom: 2px solid var(--ink-lightest);
  border-radius: 0;
  padding: 16px 12px 12px;
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--ink-dark);
  transition: all 0.3s ease;
}

.ink-form-field:focus {
  outline: none;
  border-bottom-color: var(--ink-medium);
  background: linear-gradient(180deg, var(--paper-warm) 0%, var(--paper-cream) 100%);
}

.ink-form-field::placeholder {
  color: var(--ink-lighter);
  font-style: italic;
}

/* 砚台输入框效果 */
.ink-inkstone-input {
  position: relative;
  background: 
    linear-gradient(135deg, rgba(26, 26, 46, 0.02) 0%, transparent 50%),
    var(--paper-warm);
  border: 1px solid var(--ink-lightest);
  border-radius: 4px;
  box-shadow: inset 0 2px 8px rgba(26, 26, 46, 0.04);
  transition: all 0.3s ease;
}

.ink-inkstone-input:focus-within {
  box-shadow: 
    inset 0 2px 12px rgba(26, 26, 46, 0.08),
    0 0 0 3px rgba(26, 26, 46, 0.05);
}

/* ===== 书法标题样式 ===== */
.ink-title-calligraphy {
  font-family: var(--font-serif);
  font-weight: 700;
  letter-spacing: 0.12em;
  color: var(--ink-darkest);
  position: relative;
  display: inline-block;
}

/* 竖排标题（引首） */
.ink-title-vertical {
  writing-mode: vertical-rl;
  text-orientation: upright;
  font-family: var(--font-serif);
  font-weight: 600;
  letter-spacing: 0.3em;
  color: var(--ink-darkest);
}

/* 毛笔下划线 */
.ink-brush-underline {
  position: relative;
  display: inline-block;
}

.ink-brush-underline::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, 
    var(--ink-dark) 0%, 
    var(--ink-medium) 40%, 
    var(--ink-lighter) 70%,
    transparent 100%
  );
  border-radius: 2px;
  opacity: 0.6;
}

/* ===== 落款样式 ===== */
.ink-signature {
  font-family: var(--font-serif);
  font-size: 12px;
  color: var(--ink-light);
  letter-spacing: 0.08em;
  font-style: italic;
}

.ink-signature-seal {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.ink-signature-seal::after {
  content: '印';
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  border: 1.5px solid var(--cinnabar);
  border-radius: 2px;
  color: var(--cinnabar);
  font-size: 10px;
  font-family: var(--font-serif);
  font-weight: 700;
  transform: rotate(-3deg);
  opacity: 0.8;
}

/* ===== 宣纸容器 ===== */
.ink-paper-container {
  position: relative;
  background: var(--paper-white);
  background-image: 
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
}

/* 旧纸剥落边缘 */
.ink-paper-aged {
  position: relative;
}

.ink-paper-aged::before {
  content: '';
  position: absolute;
  inset: 0;
  border: 1px solid var(--ink-lightest);
  border-radius: inherit;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.03' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.03' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}

/* ===== 页面构图框架 ===== */

/* 扇面构图 - 登录/注册页 */
.ink-layout-fan {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.ink-layout-fan::before {
  content: '';
  position: absolute;
  bottom: -20%;
  left: 50%;
  transform: translateX(-50%);
  width: 200%;
  height: 100%;
  background: radial-gradient(ellipse 80% 50% at 50% 100%, rgba(26, 26, 46, 0.02) 0%, transparent 60%);
  pointer-events: none;
}

/* 册页构图 - 首页/仪表盘 */
.ink-layout-album {
  position: relative;
  padding: 0;
}

.ink-layout-album::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 1px;
  background: linear-gradient(180deg, transparent 0%, var(--ink-lightest) 10%, var(--ink-lightest) 90%, transparent 100%);
  opacity: 0.5;
  pointer-events: none;
}

/* 立轴构图 - 详情页 */
.ink-layout-scroll {
  position: relative;
  padding-top: 15vh;
  padding-bottom: 15vh;
}

.ink-layout-scroll::before,
.ink-layout-scroll::after {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, var(--ink-lighter) 50%, transparent 100%);
}

.ink-layout-scroll::before { top: 8vh; }
.ink-layout-scroll::after { bottom: 8vh; }

/* ===== 淡入动画增强 ===== */
@keyframes inkReveal {
  0% {
    opacity: 0;
    filter: blur(8px);
    transform: translateY(20px);
  }
  60% {
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

.ink-reveal {
  animation: inkReveal 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.ink-reveal-delay-1 { animation-delay: 0.1s; opacity: 0; }
.ink-reveal-delay-2 { animation-delay: 0.2s; opacity: 0; }
.ink-reveal-delay-3 { animation-delay: 0.3s; opacity: 0; }
.ink-reveal-delay-4 { animation-delay: 0.4s; opacity: 0; }
.ink-reveal-delay-5 { animation-delay: 0.5s; opacity: 0; }
